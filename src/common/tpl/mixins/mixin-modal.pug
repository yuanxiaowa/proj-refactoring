mixin modal(title, noFooter)
  - var obj = {}
  if typeof title !== 'object'
    - obj.title = title
    - obj.noFooter = noFooter
  else
    - obj = title
  .modal.fade(data-backdrop="static")&attributes(attributes)
      .modal-dialog(class={'modal-sm':obj.size==1,'modal-lg':obj.size==2})
        .modal-content
          if obj.title
            .modal-header
              button.close(data-dismiss="modal")
                span &times;
              = obj.title
          .modal-body
            block
          if !obj.noFooter
            .modal-footer
              if !obj.saveText
                - obj.saveText = '保存'
              +button(obj.saveText)(class=obj.saveClass class="j-modal-ok")
              if !obj.noret
                +button('返回')(data-dismiss="modal")

mixin modal-role(title, placeholder, s)
  +modal(title)(id="modal-role")
    form.panelm
      .panelm-j
        .form-group.has-feedback
          input.form-control(placeholder=placeholder)
          .icon-search.form-control-feedback
        ul.panelm-w.list-unstyled
          +iterator(10)
            li
              label
                input(type="checkbox")
                | 材料员
      .panelm-c
        button.btn.j-role-a(type="button" title="添加")
          .icon-angle-right
        button.btn.j-role-aa(type="button" title="全部添加")
          .icon-double-angle-right 
        button.btn.j-role-r(type="button" title="移除")
          .icon-angle-left
        button.btn.j-role-ra(type="button" title="全部移除")
          .icon-double-angle-left 
      .panelm-j
        .form-group=s
        ul.panelm-w.list-unstyled